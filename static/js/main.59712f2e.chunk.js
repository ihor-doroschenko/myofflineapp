(this["webpackJsonpoffline-first-react-app"]=this["webpackJsonpoffline-first-react-app"]||[]).push([[0],{73:function(e,t,n){e.exports=n(85)},78:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),l=n.n(r),c=n(54),i=n(47),s=n(37),u=n(35),d=n(48),m=n(119),f=n(122),h=n(114),p=n(87),g=n(55),v=n.n(g),b=(n(78),n(116)),w=n(60),E=n.n(w),y=Object(h.a)((function(e){return{button:{margin:e.spacing(1)}}})),k=function(e){var t=e.handleSubmit,n=e.downloadCSV,a=e.downloadPhoto,r=y();return o.a.createElement(f.a,null,o.a.createElement(b.a,{variant:"contained",color:"primary",className:r.button,endIcon:o.a.createElement(E.a,null),onClick:t},"Abschicken"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){return n()}},"Download All Data"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){return a()}},"Download Photo"))},x=n(125),C=n(124),j=n(120),S=n(123),O=n(118),A=n(121),D=function(e){var t=e.formData,n=e.handleInputChange,a=e.handlePhotoChange;return o.a.createElement(f.a,{display:"flex",flexDirection:"column"},o.a.createElement(f.a,{padding:"5px",height:"50px"},o.a.createElement(A.a,{required:!0,style:{width:"100%"},label:"Streckennummer",name:"streckennummer",value:t.streckennummer,onChange:n})),o.a.createElement(f.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",height:"50px"},o.a.createElement(p.a,{style:{padding:6,width:"100%",textAlign:"left"}},"Kilometrierung")),o.a.createElement(f.a,{display:"flex",flexDirection:"row",alignItems:"center",padding:"5px",height:"50px"},o.a.createElement(A.a,{required:!0,label:"Kilometrierung",id:"km",style:{paddingRight:"5px"},name:"km",type:"number",placeholder:"z.B.145",value:t.km,onChange:n}),o.a.createElement(A.a,{name:"meters",type:"number",placeholder:"02",onChange:n})),o.a.createElement(f.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",height:"50px"},o.a.createElement(p.a,{style:{padding:6,width:"100%",textAlign:"left"}},"Seite")),o.a.createElement(x.a,{component:"fieldset"},o.a.createElement(C.a,{row:!0,required:!0,id:"seite",name:"seite",value:t.seite,onChange:t.handleChange},o.a.createElement(j.a,{value:"L",control:o.a.createElement(S.a,null),label:"L"}),o.a.createElement(j.a,{value:"R",control:o.a.createElement(S.a,null),label:"R"}))),o.a.createElement(A.a,{label:"Sonstiges",id:"sonstiges",name:"sonstiges",value:t.sonstiges,onChange:t.handleChange}),o.a.createElement(O.a,{required:!0,type:"file",name:"photo",accept:"image/*;capture=camera",onChange:a}))},I=Object(h.a)((function(e){return{root:{flexWrap:"wrap",width:"100%",height:"100%",backgroundColor:"#f4f4f4",display:"flex",justifyContent:"center","& > *":{padding:"20px",display:"flex",flexDirection:"column"}}}}));var W=function(){var e=I(),t=Object(a.useState)({streckennummer:"",photo:null}),n=Object(d.a)(t,2),r=n[0],l=n[1],h=Object(a.useState)([]),g=Object(d.a)(h,2),b=g[0],w=g[1];Object(a.useEffect)((function(){var e=localStorage.getItem("data");if(e){var t=JSON.parse(e);w(t)}}),[]),Object(a.useEffect)((function(){localStorage.setItem("data",JSON.stringify(b))}),[b]);var E=o.a.useCallback((function(){var e,t=Object(c.a)(b);try{for(t.s();!(e=t.n()).done;){var n=e.value,a=document.createElement("a");a.href=n.photo,a.download="".concat(n.streckennummer,".png"),a.click()}}catch(o){t.e(o)}finally{t.f()}}),[b]);return o.a.createElement("div",{className:v()(e.root,"appWrapper")},o.a.createElement(m.a,{elevation:3,classes:e.paper},o.a.createElement(f.a,null,o.a.createElement(p.a,{style:{padding:16},variant:"h4"},"Au\xdfendienst App")),o.a.createElement(D,{formData:r,handleInputChange:function(e){var t=e.target,n=t.name,a=t.value;l(Object(u.a)({},r,Object(s.a)({},n,a)))},handlePhotoChange:function(e){var t=e.target.files[0];l(Object(u.a)({},r,{photo:t}))}}),o.a.createElement(k,{handleSubmit:function(){var e=new FileReader;e.onload=function(e){var t=e.target.result;w([].concat(Object(i.a)(b),[Object(u.a)({},r,{photo:t})])),localStorage.setItem("data",JSON.stringify([].concat(Object(i.a)(b),[Object(u.a)({},r,{photo:t})])))},e.readAsDataURL(r.photo)},downloadCSV:function(){var e="data:text/csv;charset=utf-8,Streckennummer,Photo\n"+b.map((function(e){return'"'.concat(e.streckennummer,'",').concat(e.photo,"\n")})).join(""),t=encodeURI(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","data.csv"),document.body.appendChild(n),n.click()},downloadPhoto:E})))},R=(n(84),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function P(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(W,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/myofflineapp",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/myofflineapp","/service-worker.js");R?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):P(t,e)}))}}()}},[[73,1,2]]]);
//# sourceMappingURL=main.59712f2e.chunk.js.map